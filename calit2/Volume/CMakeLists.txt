SET(LIB_NAME Volume)
SET(PLUGIN_HEADERS
    Volume.h
    cvrImageSequence.h
    config.h
    vtkActorToOSG.h
)

ADD_LIBRARY(${LIB_NAME}
    "SHARED"
    ${PLUGIN_HEADERS}
    Volume.cpp
    cvrImageSequence.cpp
    vtkActorToOSG.cpp
)

set(CMAKE_CXX_FLAGS "-Wno-deprecated")

FIND_PACKAGE(Virvo REQUIRED)
FIND_PACKAGE(VTK REQUIRED)
#IF (${VTK_FOUND})
#   MESSAGE(STATUS "Found VTK.")
#SET(VTK_LIBRARIES vtkRendering vtkIO)
#   MESSAGE(STATUS ${VTK_LIBRARIES})
#   MESSAGE(STATUS ${VTK_INCLUDE_DIRS})
#ELSE (${VTK_FOUND})
#   MESSAGE(STATUS "Could not locate VTK.")
#ENDIF (${VTK_FOUND})
FIND_PACKAGE(ITK REQUIRED)

CONFIGURE_FILE(config.h.in config.h)

INCLUDE_DIRECTORIES(${OSG_INCLUDE_DIR})
TARGET_LINK_LIBRARIES(${LIB_NAME} ${OSG_LIBRARIES})

INCLUDE_DIRECTORIES(${VIRVO_INCLUDE_DIRS})
TARGET_LINK_LIBRARIES(${LIB_NAME} ${VIRVO_LIBRARY})

INCLUDE_DIRECTORIES(${VTK_INCLUDE_DIRS})
TARGET_LINK_LIBRARIES(${LIB_NAME} ${VTK_LIBRARIES})

INCLUDE_DIRECTORIES(${ITK_INCLUDE_DIRS})
TARGET_LINK_LIBRARIES(${LIB_NAME} ${ITK_LIBRARIES})

INSTALL(TARGETS ${LIB_NAME} DESTINATION lib/plugins)

